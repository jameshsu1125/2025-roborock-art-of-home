import{r as n,j as t,C as x,F as E,a as I,A as m,P as M,b as O,c as k,d as D,g as L}from"./index-Cc0N4bLd.js";import{u as h,O as R}from"./index-BrzeisBi.js";const F=n.memo(()=>{const e=n.useId();return n.useEffect(()=>{x.add(`#${e}`,()=>{E.share({method:"share",href:"https://roborock-art-of-cleaning.netlify.app/",hashtag:"Roborock",redirect_uri:window.location.href})})},[e]),t.jsx("button",{id:e,className:"btn-0",children:t.jsx("div",{})})}),P=n.memo(()=>{const e=n.useId(),[,r]=n.useContext(I);return n.useEffect(()=>{x.add(`#${e}`,()=>{r({type:m.LoadingProcess,state:{enabled:!0}}),r({type:m.Page,state:M.home})})},[e]),t.jsx("button",{id:e,className:"btn-1",children:t.jsx("div",{})})}),U=n.memo(()=>{const e=n.useId();return n.useEffect(()=>{x.add(`#${e}`,()=>{window.open(O,"_blank")})},[e]),t.jsx("button",{id:e,className:"btn-2",children:t.jsx("div",{})})}),S=n.memo(()=>t.jsxs("div",{className:"Btns",children:[t.jsx(F,{}),t.jsx(P,{}),t.jsx(U,{})]}));var l=(e=>(e[e.Unset=0]="Unset",e[e.FadeIn=1]="FadeIn",e))(l||{});const A={step:0,index:Math.min(5,Math.floor(Math.random()*5))},g=n.createContext([A,()=>{}]),q=""+new URL("r0-C_e24YgY.jpg",import.meta.url).href,_=""+new URL("r1-CQLRjq2v.jpg",import.meta.url).href,B=""+new URL("r2-CrNO5BV6.jpg",import.meta.url).href,$=""+new URL("r3-DqKPAaJR.jpg",import.meta.url).href,T=""+new URL("r4-CbTBi9Wp.jpg",import.meta.url).href,V=n.memo(()=>{const[e,r]=h({opacity:0}),[{index:o,step:a}]=n.useContext(g),d=n.useMemo(()=>[q,_,B,$,T][o],[o]);return n.useEffect(()=>{a===l.FadeIn&&r({opacity:1},{duration:500})},[a]),t.jsx("div",{style:e,className:"Images",children:t.jsx("img",{src:d})})});var j={},w;function G(){return w||(w=1,function(e){var r=k();Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UserAgentType=void 0;var o=r(D()),a=e.UserAgentType=function(i){return i[i.Desktop=0]="Desktop",i[i.Mobile=1]="Mobile",i}({}),d=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,y=new o.default(window.navigator.userAgent);return y.tablet()?s?a.Desktop:a.Mobile:y.mobile()?a.Mobile:a.Desktop},u=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("FBAN")>-1||s.indexOf("FBAV")>-1},p=function(){var s=new o.default(window.navigator.userAgent);return s.os()=="iOS"},f=function(){var s=new o.default(window.navigator.userAgent);return s.os()=="AndroidOS"},b=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Line")>-1||s.indexOf("Line")>-1},c=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Mac OS X")>-1},v=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Mac OS X")<0},N={get:d,facebook:u,ios:p,android:f,line:b,mac:c,pc:v};e.default=N}(j)),j}var C=G();const Q=L(C),X=Q.get(!1)===C.UserAgentType.Mobile?"請長按下載圖片或截圖分享":"請右鍵圖片下載圖片",Y=n.memo(()=>{const[e,r]=h({opacity:0,y:50}),[{step:o}]=n.useContext(g);return n.useEffect(()=>{o===l.FadeIn&&r({opacity:1,y:0},{duration:500,delay:300,onEnd:()=>alert(X)})},[o]),t.jsx("div",{className:"fb-ig",style:e})}),J=n.memo(()=>t.jsxs("div",{className:"Social",children:[t.jsx(Y,{}),t.jsx("div",{className:"remind",children:t.jsx("div",{})})]})),K=n.memo(()=>{const[e,r]=h({opacity:0,y:50}),[{index:o,step:a}]=n.useContext(g);return n.useEffect(()=>{a===l.FadeIn&&r({opacity:1,y:0},{duration:500,delay:200})},[a]),t.jsx("div",{className:"Title",style:e,children:t.jsx("div",{className:`t${o}`})})}),W=[1,4,0,2,3],Z=n.memo(()=>{const[e,r]=n.useContext(I),[o,a]=n.useState(A);return n.useEffect(()=>{const{data:d}=e[m.Answers]||{data:[]},u=d.reduce((c,v)=>(c[v]=(c[v]||0)+1,c),{}),p=Math.max(...Object.values(u),0),f=Object.keys(u).filter(c=>u[Number(c)]===p).map(Number),b=f[Math.floor(Math.random()*f.length)];a(c=>({...c,index:W[b||0],step:l.Unset})),r({type:m.LoadingProcess,state:{enabled:!0}}),x.addPreventExcept(".scrollable")},[]),t.jsx(g.Provider,{value:[o,a],children:t.jsx(R,{onload:()=>{r({type:m.LoadingProcess,state:{enabled:!1}}),a(d=>({...d,step:l.FadeIn}))},children:t.jsx("div",{className:"Result",children:t.jsx("div",{className:"scrollable",children:t.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-5 p-5",children:[t.jsx(V,{}),t.jsx(K,{}),t.jsx(J,{}),t.jsx(S,{})]})})})})})});export{Z as default};
