import{r as s,j as e,t as m,C as v,a as N,A as j,P as Q}from"./index-BJ3ZMEEV.js";import{u as l,l as b,O as k}from"./index-CWWckvok.js";var x=(t=>(t[t.Unset=0]="Unset",t[t.FadeIn=1]="FadeIn",t))(x||{}),u=(t=>(t[t.Landing=0]="Landing",t[t.Question=1]="Question",t))(u||{});const C={step:0,page:0,question:0,answers:[]},c=s.createContext([C,()=>{}]),r=[["立刻處理到一塵不染，不留任何污點！","全境搜索！擴大清潔範圍","把燈光全部開啟，看清楚髒污在哪裡","判斷髒污類型，靈活切換清潔工具對付","只要一個指令，簡單省事達成清潔任務"],["容不下一粒灰塵，一髒掉就要回歸原貌","各種死角地形都要貫徹乾淨！","任何光線下都乾淨無瑕","從縫隙到床鋪到高處都很要求","少即是多，追求簡單俐落"],["清潔就該講求結果，看得見的乾淨最重要","清潔就像征服一場戰役，哪裡髒就往哪裡攻","很重視細節，尤其容易忽略的地方更要注意","清潔要顧到方方面面，要靈活、多角度","清潔是生活減法，才能留下必要的純粹"],["追求完美，把家打掃得像新房子","活力滿滿，每個角落都勤奮清潔","用智慧判斷，不錯放每個細節","多元靈活，針對不同生活場景彈性應變","一派輕鬆，善用最省力的方式"],["強力吸附，毛髮無纏繞","深層清潔，地毯、縫隙都能清","結合智慧科技，強化清潔效率","五機合一，靈活變身多功能","輕巧簡潔，一鍵完成"]],B=s.memo(({children:t})=>e.jsx("div",{className:"hover:bg-primary relative rounded-l-full rounded-r-full bg-black pb-[27.198825071758666%]",children:e.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 flex items-center justify-center text-white",children:t})})),I=s.memo(({children:t})=>e.jsx("div",{className:"relative h-10 rounded-l-full rounded-r-full bg-black",children:e.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 flex items-center justify-center text-white",children:t})})),d=({id:t,children:n,className:o,style:a,onClick:i})=>e.jsx("button",{id:t,className:m("cursor-pointer",o),style:a,onClick:i,children:n});d.Regular=B;d.Question=I;const w=s.memo(()=>{const t=s.useId(),[n,o]=l({opacity:0,scale:2}),[{step:a},i]=s.useContext(c);return s.useEffect(()=>{a===x.FadeIn&&o({opacity:1,scale:1},{duration:500,delay:1600,easing:b.Bezier.outBack})},[a]),s.useEffect(()=>{v.add(`#${t}`,()=>{i(y=>({...y,page:u.Question}))})},[t]),e.jsx("div",{className:"btn",style:n,children:e.jsx(d,{id:t,className:"cursor-pointer [&_*]:pointer-events-none",children:e.jsx(d.Regular,{children:e.jsx("div",{className:"start"})})})})}),h=s.memo(({delay:t})=>{const[{step:n}]=s.useContext(c),[o,a]=l({opacity:0,x:50});return s.useEffect(()=>{n===x.FadeIn&&a({opacity:1,x:0},{duration:500,delay:t})},[n]),e.jsx("div",{style:o})}),L=s.memo(()=>e.jsxs("div",{className:"headline",children:[e.jsx(h,{delay:300}),e.jsx(h,{delay:400})]})),q=s.memo(()=>{const[{step:t}]=s.useContext(c),[n,o]=l({opacity:0,y:100});return s.useEffect(()=>{o({opacity:1,y:0},300)},[t]),e.jsx("div",{className:"logo",style:n})}),g=s.memo(({delay:t})=>{const[{step:n}]=s.useContext(c),[o,a]=l({opacity:0,y:50});return s.useEffect(()=>{n===x.FadeIn&&a({opacity:1,y:0},{duration:500,delay:t})},[n]),e.jsx("div",{style:o})}),S=s.memo(()=>e.jsxs("div",{className:"subline",children:[e.jsx(g,{delay:1e3}),e.jsx(g,{delay:1100})]})),P=s.memo(()=>{const[t]=s.useContext(c);return e.jsxs("div",{className:m("Landing",t.page===u.Landing?"block":"hidden"),children:[e.jsx("div",{className:"bg",children:e.jsx("div",{})}),e.jsx("div",{className:"ink"}),e.jsx(q,{}),e.jsxs("div",{className:"content",children:[e.jsx(L,{}),e.jsx(S,{}),e.jsx(w,{})]})]})}),F=s.memo(({index:t})=>{const n=s.useRef(null),[{question:o}]=s.useContext(c);return s.useEffect(()=>{var a,i;o>=r.length||(o===t?(a=n.current)==null||a.style.setProperty("opacity","1"):(i=n.current)==null||i.style.setProperty("opacity","0"))},[o]),e.jsx("div",{ref:n})}),$=s.memo(()=>e.jsx("div",{className:"Background",children:[...new Array(5).keys()].map((t,n)=>e.jsx(F,{index:t},n))})),R=s.memo(({children:t,index:n})=>{const o=s.useId(),[{page:a,question:i},y]=s.useContext(c),[E,p]=l({opacity:0,y:100});return s.useEffect(()=>{a!==u.Landing&&(i>=r.length||p({opacity:0,y:100},{duration:1,onEnd:()=>{p({opacity:1,y:0},{duration:600,delay:800+50*n})}}))},[i,a]),s.useEffect(()=>{v.add(`#${o}`,()=>{i>=r.length||y(f=>({...f,question:f.question+1,answers:[...f.answers,n]}))})},[o,i]),e.jsx(d,{id:o,style:E,children:e.jsx(d.Question,{children:t})})}),A=s.memo(()=>{var n;const[{question:t}]=s.useContext(c);return e.jsx("div",{className:"Buttons animate-fadeIn",children:(n=r[Math.min(t,r.length-1)])==null?void 0:n.map((o,a)=>e.jsx(R,{index:a,children:o},o))})}),M=s.memo(()=>{const[,t]=s.useContext(N),[{question:n,page:o}]=s.useContext(c),[a,i]=l({opacity:0,y:-100});return s.useEffect(()=>{n===r.length&&setTimeout(()=>{t({type:j.LoadingProcess,state:{enabled:!0}}),t({type:j.Page,state:Q.result})},800)},[n]),s.useEffect(()=>{o===u.Question&&i({opacity:1,y:0},{duration:600,easing:b.Bezier.outBack})},[o]),e.jsx("div",{className:"Process",style:a,children:e.jsx("div",{style:{width:`${n*20}%`}})})}),z=s.memo(()=>{const[{page:t,question:n}]=s.useContext(c),[o,a]=l({opacity:0,y:100});return s.useEffect(()=>{t!==u.Landing&&(n>=r.length||a({opacity:0,y:100},{duration:1,onEnd:()=>{a({opacity:1,y:0},{duration:600,delay:500})}}))},[t,n]),e.jsx("div",{className:m("Questions animate-fadeIn",`q${Math.min(n,r.length-1)}`),children:e.jsx("div",{style:o})})}),O=s.memo(()=>{const[t]=s.useContext(c);return e.jsx("div",{className:m("Question",t.page===u.Question?"block":"hidden"),children:e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-start gap-10",children:[e.jsx($,{}),e.jsx(M,{}),e.jsx(z,{}),e.jsx(A,{})]})})}),_=s.memo(()=>{const[,t]=s.useContext(N),[n,o]=s.useState(C);return e.jsx(k,{onload:()=>{t({type:j.LoadingProcess,state:{enabled:!1}}),o(a=>({...a,step:x.FadeIn}))},children:e.jsx("div",{className:"Home",children:e.jsxs(c.Provider,{value:[n,o],children:[e.jsx(P,{}),e.jsx(O,{})]})})})});export{_ as default};
