import{r as n,j as t,C as v,F as N,a as w,A as u,P as D,b as L,c as O,d as R,g as k}from"./index-DSkovPKe.js";import{u as j,O as M}from"./index-ys_eG8Jo.js";const F=n.memo(()=>{const e=n.useId();return n.useEffect(()=>{v.add(`#${e}`,()=>{N.share({method:"share",href:"https://roborock-art-of-cleaning.netlify.app/",hashtag:"Roborock",redirect_uri:window.location.href})})},[e]),t.jsx("button",{id:e,className:"btn-0",children:t.jsx("div",{})})}),P=n.memo(()=>{const e=n.useId(),[,r]=n.useContext(w);return n.useEffect(()=>{v.add(`#${e}`,()=>{r({type:u.LoadingProcess,state:{enabled:!0}}),r({type:u.Page,state:D.home})})},[e]),t.jsx("button",{id:e,className:"btn-1",children:t.jsx("div",{})})}),U=n.memo(()=>{const e=n.useId();return n.useEffect(()=>{v.add(`#${e}`,()=>{window.open(L,"_blank")})},[e]),t.jsx("button",{id:e,className:"btn-2",children:t.jsx("div",{})})}),S=n.memo(()=>t.jsxs("div",{className:"Btns",children:[t.jsx(F,{}),t.jsx(P,{}),t.jsx(U,{})]}));var l=(e=>(e[e.Unset=0]="Unset",e[e.FadeIn=1]="FadeIn",e))(l||{});const A={step:0,index:Math.min(5,Math.floor(Math.random()*5))},g=n.createContext([A,()=>{}]),q=""+new URL("r0-C_e24YgY.jpg",import.meta.url).href,_=""+new URL("r1-CQLRjq2v.jpg",import.meta.url).href,B=""+new URL("r2-CrNO5BV6.jpg",import.meta.url).href,$=""+new URL("r3-DqKPAaJR.jpg",import.meta.url).href,T=""+new URL("r4-CbTBi9Wp.jpg",import.meta.url).href,V=n.memo(()=>{const[e,r]=j({opacity:0}),[{index:o,step:a}]=n.useContext(g),c=n.useMemo(()=>[q,_,B,$,T][o],[o]);return n.useEffect(()=>{a===l.FadeIn&&r({opacity:1},{duration:500})},[a]),t.jsx("div",{style:e,className:"Images",children:t.jsx("img",{src:c})})});var b={},y;function G(){return y||(y=1,function(e){var r=O();Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UserAgentType=void 0;var o=r(R()),a=e.UserAgentType=function(i){return i[i.Desktop=0]="Desktop",i[i.Mobile=1]="Mobile",i}({}),c=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,h=new o.default(window.navigator.userAgent);return h.tablet()?s?a.Desktop:a.Mobile:h.mobile()?a.Mobile:a.Desktop},x=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("FBAN")>-1||s.indexOf("FBAV")>-1},d=function(){var s=new o.default(window.navigator.userAgent);return s.os()=="iOS"},m=function(){var s=new o.default(window.navigator.userAgent);return s.os()=="AndroidOS"},f=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Line")>-1||s.indexOf("Line")>-1},p=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Mac OS X")>-1},C=function(){var s=navigator.userAgent||navigator.vendor;return s.indexOf("Mac OS X")<0},E={get:c,facebook:x,ios:d,android:m,line:f,mac:p,pc:C};e.default=E}(b)),b}var I=G();const Q=k(I),X=Q.get(!1)===I.UserAgentType.Mobile?"請長按下載圖片或截圖分享":"請右鍵圖片下載圖片",Y=n.memo(()=>{const[e,r]=j({opacity:0,y:50}),[{step:o}]=n.useContext(g);return n.useEffect(()=>{o===l.FadeIn&&r({opacity:1,y:0},{duration:500,delay:300,onEnd:()=>alert(X)})},[o]),t.jsx("div",{className:"fb-ig",style:e})}),J=n.memo(()=>t.jsxs("div",{className:"Social",children:[t.jsx(Y,{}),t.jsx("div",{className:"remind",children:t.jsx("div",{})})]})),K=n.memo(()=>{const[e,r]=j({opacity:0,y:50}),[{index:o,step:a}]=n.useContext(g);return n.useEffect(()=>{a===l.FadeIn&&r({opacity:1,y:0},{duration:500,delay:200})},[a]),t.jsx("div",{className:"Title",style:e,children:t.jsx("div",{className:`t${o}`})})}),W=[1,4,0,2,3],Z=n.memo(()=>{const[e,r]=n.useContext(w),[o,a]=n.useState(A);return n.useEffect(()=>{const{data:c}=e[u.Answers]||{data:[]},x=c.length===0?void 0:c.reduce((d,m)=>{const f=c.filter(p=>p===m).length;return f>d.count?{item:m,count:f}:d},{item:c[0],count:0}).item;a(d=>({...d,index:W[x||0],step:l.Unset})),r({type:u.LoadingProcess,state:{enabled:!0}}),v.addPreventExcept(".scrollable")},[]),t.jsx(g.Provider,{value:[o,a],children:t.jsx(M,{onload:()=>{r({type:u.LoadingProcess,state:{enabled:!1}}),a(c=>({...c,step:l.FadeIn}))},children:t.jsx("div",{className:"Result",children:t.jsx("div",{className:"scrollable",children:t.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-5 p-5",children:[t.jsx(V,{}),t.jsx(K,{}),t.jsx(J,{}),t.jsx(S,{})]})})})})})});export{Z as default};
